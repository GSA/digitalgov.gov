{{ define "content" }}

<main role="main">
  <article>
    <header>
      <div class="grid-container grid-container-desktop">
        <div class="grid-row ">
          <div class="grid-col-12">

            {{/* Page Title */}}
            <h1>{{- .Title | markdownify -}} </h1>

            {{/* Deck */}}
            {{- if .Params.deck -}}
            <div class="deck">{{- .Params.deck | markdownify -}}</div>
            {{- end -}}

          </div>
        </div>
      </div>
    </header>

    {{ if .Params.guide }}
    <section>
      <div class="grid-container grid-container-desktop">
        <div class="grid-row grid-gap-4">
          <div class="grid-col-12 tablet:grid-col-9">
            <ul class="guide-nav">
            {{/* Gets the current page URL */}}
            {{ $current_url := .URL }}
            {{ range $i, $e := (where .Site.Pages.ByWeight ".Params.guide" .Params.guide) }}
              {{/* If $current_url is NOT equal to the URL, then print the page */}}
              {{ if not (eq $current_url $e.URL) }}
                <li>
                  <a href="{{ $e.Permalink }}" title="{{$e.Title}}">{{$e.Title}}</a>
                </li>

              {{ end }}
            {{ end }}
            </ul>
          </div>
        </div>
      </div>
    </section>
    {{ end }}

    {{ if .Params.quote }}
    <section class="quote">
      <div class="grid-container grid-container-desktop">
        <div class="grid-row">
          <div class="grid-col-12">
            <p>{{ .Params.quote | markdownify }}</p>
          </div>
        </div>
      </div>
    </section>
    {{ end }}

    {{ if .Content }}
    <section class="content">
      <div class="grid-container grid-container-desktop">
        <div class="grid-row">
          <div class="grid-col-9">
            {{ .Content }}
          </div>
        </div>
      </div>
    </section>
    {{ end }}
  </article>
</main>
{{ end }} {{/* end 'content' block */}}
